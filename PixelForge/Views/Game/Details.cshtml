@model PixelForge.Models.Game

@{
    ViewData["Title"] = "Details";
}

<h2>@Model.Title</h2>

<div>
    <strong>Price:</strong> @Model.Price.ToString("N2")$
</div>

<div>
    <strong>Publisher:</strong> @Model.Publisher.FirstName @Model.Publisher.SecondName
</div>

<h4>Average Rating: @(Model.Reviews.Any() ? Model.Reviews.Average(r => r.Rating).ToString("0.0") : "No ratings") / 5</h4>

@if (Model.Reviews.Any())
{
    <ul>
        @foreach (var review in Model.Reviews)
        {
            <li>
                <strong>@review.User.FirstName @review.User.SecondName</strong> rated @review.Rating/5
                <p>@review.Comment</p>
            </li>
        }
    </ul>
}
else
{
    <p>No reviews yet.</p>
}

<a asp-action="Store">Back to Store</a>
